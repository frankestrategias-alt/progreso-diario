import{c as b,r,j as e,C as v,v as j}from"./index-B3mVdjF5.js";import{S as y}from"./save-DbYuGsJH.js";import{C as k}from"./copy-DQpEkTKq.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],N=b("loader-circle",C);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],z=b("mic",E);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],$=b("pencil",S),M=({text:c,onCopy:x,hideCopy:f=!1})=>{const[o,i]=r.useState(c),[n,d]=r.useState(!1),[t,g]=r.useState(!1),l=r.useRef(null);r.useEffect(()=>{i(c),d(!1)},[c]),r.useEffect(()=>{n&&l.current&&(l.current.focus(),l.current.style.height="auto",l.current.style.height=l.current.scrollHeight+"px")},[n]);const h=()=>{x&&x();const s=`${o.trim()}

(Generado en 3s con la IA de Networker Pro. Úsalo gratis: ${window.location.origin})`;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(s);else{const m=document.createElement("textarea");m.value=s,document.body.appendChild(m),m.select();try{document.execCommand("copy")}catch{}document.body.removeChild(m)}g(!0),j("light"),setTimeout(()=>g(!1),2e3)},a=()=>{d(!n)},p=s=>s.split(/(\*.*?\*)/g).map((u,w)=>u.startsWith("*")&&u.endsWith("*")&&u.length>2?e.jsx("strong",{className:"font-bold text-slate-900",children:u.slice(1,-1)},w):u);return e.jsxs("div",{className:`
        bg-white p-4 rounded-xl shadow-sm border mb-4 relative group transition-all duration-300 transform
        ${n?"border-emerald-500 ring-1 ring-emerald-500":"border-slate-200"}
        ${t?"ring-2 ring-emerald-500/50 bg-emerald-50/30 scale-[1.02] shadow-md border-emerald-200":""}
    `,children:[n?e.jsx("textarea",{ref:l,value:o,onChange:s=>{i(s.target.value),s.target.style.height="auto",s.target.style.height=s.target.scrollHeight+"px"},className:"w-full bg-transparent text-slate-800 text-base leading-relaxed resize-none focus:outline-none pr-8 font-sans",rows:3}):e.jsx("div",{className:"text-slate-700 whitespace-pre-wrap leading-relaxed pr-16 min-h-[3rem]",children:p(o.trim())}),t&&e.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] font-black uppercase tracking-widest px-3 py-1.5 rounded-lg shadow-xl animate-in fade-in slide-in-from-bottom-2 duration-300 z-20",children:["¡Mensaje copiado!",e.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-slate-800 rotate-45"})]}),e.jsx("div",{className:"absolute top-3 right-3 flex items-center gap-1 bg-white/80 backdrop-blur-sm rounded-full pl-1",children:n?e.jsx("button",{onClick:a,className:"p-2 rounded-full text-white bg-emerald-500 hover:bg-emerald-600 transition-all shadow-sm",title:"Guardar cambios",children:e.jsx(y,{size:16})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"p-2 rounded-full text-slate-500 hover:text-emerald-600 hover:bg-emerald-50 transition-all",title:"Editar texto",children:e.jsx($,{size:16})}),!f&&e.jsx("button",{onClick:h,className:`p-2 rounded-full transition-all duration-300 ${t?"bg-emerald-500 text-white scale-110 rotate-12 shadow-lg shadow-emerald-200":"text-slate-500 hover:text-blue-600 hover:bg-blue-50 animate-icon-pulse"}`,title:"Copiar texto",children:t?e.jsx(v,{size:16}):e.jsx(k,{size:16})})]})})]})},T=({onTranscript:c,placeholder:x="Dictar...",className:f=""})=>{const[o,i]=r.useState(!1),[n,d]=r.useState(null),[t,g]=r.useState(null);r.useEffect(()=>{const h=window.SpeechRecognition||window.webkitSpeechRecognition;if(h){const a=new h;a.continuous=!1,a.interimResults=!1,a.lang="es-ES",a.onresult=p=>{const s=p.results[0][0].transcript;c(s),i(!1)},a.onerror=p=>{d(p.error),i(!1)},a.onend=()=>{i(!1)},g(a)}else d("speech-not-supported")},[c]);const l=()=>{if(o)t==null||t.stop();else{d(null);try{t==null||t.start(),i(!0)}catch{}}};return n==="speech-not-supported"?null:e.jsxs("button",{onClick:l,className:`p-2 rounded-xl transition-all active:scale-95 flex items-center gap-2 ${o?"bg-rose-500 text-white animate-pulse shadow-lg shadow-rose-200":"bg-slate-100 text-slate-500 hover:bg-slate-200"} ${f}`,title:o?"Escuchando...":"Dictar con voz",children:[o?e.jsx(N,{className:"animate-spin",size:20}):e.jsx(z,{size:20}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:o?"Escuchando...":"Voz"})]})};export{M as A,N as L,T as V};
